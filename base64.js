!function(){function t(t){var e,n;try{e=t.replace(/[a-z0-9+\/]+=*/gi,function(t){return n=!0,decodeURIComponent(escape(atob(t)))})}catch(t){return!1}return!!n&&(!/^[a-zA-Z0-9]{1,3}$/.test(e)&&(!/[0x00-0x07]/.test(e)&&e))}function e(t){return btoa(unescape(encodeURIComponent(t)))}function n(t){if(t){if(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement)return t;if(t.getAttribute&&t.getAttribute("contenteditable"))return t;for(t=t.parentNode;t;){if(n(t))return t;t=t.parentNode}}}function o(t){var e=document.createEvent("HTMLEvents");e.initEvent("input",!1,!0),t.dispatchEvent(e)}function i(n,r){if(n&&(r||!n.getAttribute||!n.getAttribute("contenteditable"))){if(n.$history_value)return n.value=n.$history_value,void(n.$history_value=null);if(n.$history_textContent)return n.textContent=n.$history_textContent,void(n.$history_textContent=null);if(n instanceof HTMLInputElement||n instanceof HTMLTextAreaElement)if(r)t(n.value)===!1&&(n.$history_value=n.value,n.value=e(n.value),o(r));else{var u=t(n.value);u!==!1&&(n.$history_value=n.value,n.value=u)}else if(n.nodeType!==Node.TEXT_NODE)n.childNodes&&[].slice.apply(n.childNodes).forEach(function(t){i(t,r)});else if(r)t(n.textContent)===!1&&(n.$history_textContent=n.textContent,n.textContent=e(n.textContent),o(r));else{var u=t(n.textContent);u!==!1&&(n.$history_textContent=n.textContent,n.textContent=u)}}}i(document.activeElement,n(document.activeElement))}();